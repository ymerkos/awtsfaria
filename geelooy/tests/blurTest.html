<h2>B"H</h2>
<script type="module">

import * as THREE from '/games/scripts/build/three.module.js';

import PostProcessingManager from "/games/mitzvahWorld/ckidsAwtsmoos/postProcessing.js";


// Add objects to the scene
function createSceneObjects(scene) {
    var geometry = new THREE.SphereGeometry(1, 32, 32);
    var material = new THREE.MeshBasicMaterial({ color: 0xff0000 });
    var sphere = new THREE.Mesh(geometry, material);
    scene.add(sphere);

    geometry = new THREE.BoxGeometry(1, 1, 1);
    material = new THREE.MeshBasicMaterial({ color: 0x00ff00 });
    var cube = new THREE.Mesh(geometry, material);
    cube.position.set(3, 0, 0);
    scene.add(cube);

    return {
        sphere: sphere,
        cube: cube
    };
}



// Update function for the scene
function updateScene(objects, camera) {
    // Example of moving the sphere and keeping the camera focused on it
    objects.sphere.position.x += 0.01;
    camera.lookAt(objects.sphere.position);
}

// Main function to initialize everything
function main() {
    var scene = new THREE.Scene();
    var camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);
    camera.position.z = 5;
    
    var renderer = new THREE.WebGLRenderer();
    renderer.setSize(window.innerWidth, window.innerHeight);
    document.body.appendChild(renderer.domElement);

    var objects = createSceneObjects(scene);
    var m = new PostProcessingManager({
        scene, camera, renderer
    });


    m.postprocessingSetup()
    function animate() {
        requestAnimationFrame(animate);

        updateScene(objects, camera);

        var distToSphere = camera.position.distanceTo(
            objects.sphere.position
        );

        var focalDepth = m.getFocusFromDistance(distToSphere);
        m.setFocalDepth(focalDepth)
       // renderer.render(scene, camera);
        m.postprocessingRender()
    }
    animate();

    
}

main();



</script>