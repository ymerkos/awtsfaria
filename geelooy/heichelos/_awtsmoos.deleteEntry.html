<!--B"H-->
<?Awtsmoos
    return await getT("bh.html")
  ?>


<script>
    //<?Awtsmoos
        return `

            var {
                contentID,
                type,
                baseE,
                aliasID,
                heichel,
                parentSeriesId,
                id,
                returnURL
            } = ${
                JSON.stringify($$sd)
            }
        `;
    //?>

    async function go() {
        try {
            var r = await fetch(
                `${baseE}/deleteContentFromSeries`, {
                    method: "POST",
                    body: new URLSearchParams({
                        aliasId: aliasID,
                        seriesId:parentSeriesId,
                        contentType:type,
                        contentId: id,
                        deleteOriginal: true
                    })
                }
            );
            var t = await r.json();
            if(!t.error)
            alert("Successfully deleted " + JSON.stringify(t));
            else alert("Problem deleting: "+JSON.stringify(t))
            location.href= returnURL
        } catch(e) {
            alert("did not delete " + JSON.stringify(e));
            location.href= returnURL
        }
    }

    if(confirm("Are you sure you want to delete this "+
               type))
    go();
    else {
        location.href=returnURL

    }
</script>
